function openTab(a,b){var c,d,e;for(d=document.getElementsByClassName("tabcontent"),c=0;c<d.length;c++)d[c].style.display="none";for(e=document.getElementsByClassName("tablinks"),c=0;c<e.length;c++)e[c].className=e[c].className.replace(" active","");document.getElementById(b).style.display="block",null!=a&&(a.currentTarget.className+=" active")}var PlaygroundEditor=PlaygroundEditor||{};!function(a,b){"use strict";function ga(){var a={appId:"Playground-Editor",instanceId:j.sid,authorId:"NorybiaK",baseRefUrl:"playground-editor.firebaseio.com"};b.utilities.sync.connect(a).then(function(a){ha(a)})}function ha(a){var b=a.instance;p=b.child("PlaygroundEditor"),q=p.child("objects"),r=p.child("settings"),s=a.app.child("PlaygroundEditor").child("users").child(g.userId),ia()}function ia(){if(oa(),g.isModerator||d)ka(),Da();else{var a=document.getElementById("masterWrapper");a.innerHTML=""}f=document.getElementById("viewer-option"),e(),c=!0,console.log("PlaygroundEditor: Started!")}function ja(){var a=I.res+"-"+(Math.random()+1).toString(36).substring(7);if($[a])return void console.log("PlaygroundEditor: Object - "+a+" - already exists! Skipping this object...");var b=J.position;if(J.userData.useBox){var c=(new THREE.Box3).setFromObject(J);switch(I.type){case"ceiling":b={x:c.max.x,y:c.max.y,z:c.min.z};break;case"floor":b={x:c.max.x,y:c.max.y,z:c.min.z};break;case"pipe":b={x:(c.max.x+c.min.x)/2,y:(c.max.y+c.min.y)/2,z:c.max.z};break;default:b={x:c.min.x,y:c.min.y,z:c.min.z};break;case"effects":b={x:(c.max.x+c.min.x)/2,y:c.min.y,z:(c.max.z+c.min.z)/2};break;case"objects":b={x:(c.max.x+c.min.x)/2,y:c.min.y,z:(c.max.z+c.min.z)/2}}}q.child(a).set({baseRef:"",objRef:I.path,extension:"",pos:b,rot:{x:0,y:0,z:0,w:1},rotEdit:{x:1,y:1,z:1},scale:{x:1,y:1,z:1},settings:{locked:!1},objStatus:"new"})}function ka(){var a,b=new THREE.TextureLoader;b.setCrossOrigin("anonymous");var c;a=new THREE.BoxGeometry(.05,.3,1),A=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#9f9f9f"})),A.scale.set(1,1,1),h.add(A),a=new THREE.BoxGeometry(.1,.1,.3);var e=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#cccccc"}));e.scale.set(.5,.5,.5),e.position.set(.02,.08,0),A.add(e),a=new THREE.BoxGeometry(.1,.1,.3);var f=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#cccccc"}));f.scale.set(.5,.5,.5),f.position.set(.02,.08,-.2),A.add(f),a=new THREE.BoxGeometry(.1,.1,.3);var i=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#cccccc"}));i.scale.set(.5,.5,.5),i.position.set(.02,.08,-.4),A.add(i),a=new THREE.BoxGeometry(.02,.15,.3);var j=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#cccccc"}));j.scale.set(1,1,1),j.position.set(0,-5e3,5),j.rotateY(90*Math.PI/180),j.rotateZ(75*Math.PI/180),g.hips.add(j);var k;k={text:"Moving",fontSize:1},ea[0]=sa(k),ea[0].position.set(0,-.3,.3),ea[0].rotateY(90*Math.PI/180),A.add(ea[0]),k={text:"X,Z",fontSize:1},ea[1]=sa(k),ea[1].position.set(.026,.07,.4),ea[1].rotateY(90*Math.PI/180),A.add(ea[1]),k={text:"Stay",fontSize:1},ea[2]=sa(k),ea[2].position.set(.052,0,0),ea[2].rotateY(90*Math.PI/180),f.add(ea[2]),k={text:"Hide",fontSize:1},ea[3]=sa(k),ea[3].position.set(.052,0,0),ea[3].rotateY(90*Math.PI/180),i.add(ea[3]),k={text:"Lock",fontSize:1},ea[4]=sa(k),ea[4].position.set(.052,0,0),ea[4].rotateY(90*Math.PI/180),e.add(ea[4]),k={text:"Unhide",fontSize:1},ea[5]=sa(k),ea[5].position.set(.052,0,0),ea[5].rotateY(90*Math.PI/180),j.add(ea[5]);var l;c="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/move_map.png",b.load(c,function(b){a=new THREE.BoxGeometry(.05,.15,.15),l=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#cccccc",map:b})),l.scale.set(1,1,1),l.position.set(.02,-.06,.4),A.add(l),l.addEventListener("cursorup",function(a){switch(y>=2?y=0:y++,y){case 0:ua(ea[1],"n-text",{text:"X,Z",fontSize:1});break;case 1:ua(ea[1],"n-text",{text:"Y",fontSize:1});break;case 2:ua(ea[1],"n-text",{text:"X,Y,Z",fontSize:1})}openTab(null,"positionTab"),F="move",ua(ea[0],"n-text",{text:"Moving",fontSize:1})})});var m;c="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/rotate_map.png",b.load(c,function(b){a=new THREE.BoxGeometry(.05,.15,.15),m=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#cccccc",map:b})),m.scale.set(1,1,1),m.position.set(.02,-.06,.15),A.add(m),m.addEventListener("cursorup",function(a){openTab(null,"rotationTab"),F="rotate",ua(ea[0],"n-text",{text:"Rotating",fontSize:1})})});var n;c="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/scale_map.png",b.load(c,function(b){a=new THREE.BoxGeometry(.05,.15,.15),n=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#cccccc",map:b})),n.scale.set(1,1,1),n.position.set(.02,-.06,-.1),A.add(n),n.addEventListener("cursorup",function(a){openTab(null,"scaleTab"),F="scale",ua(ea[0],"n-text",{text:"Scaling",fontSize:1})})});var p;c="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/delete_map.png",b.load(c,function(b){a=new THREE.BoxGeometry(.05,.15,.15),p=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:"#FF0000",map:b})),p.scale.set(1,1,1),p.position.set(.02,-.06,-.4),A.add(p),p.addEventListener("cursordown",function(a){qa(w),t.set(null),w=null})}),e.addEventListener("cursorup",function(a){ma()}),f.addEventListener("cursorup",function(a){na()}),i.addEventListener("cursorup",function(a){D||(E&&ma(),D=!0,B=!1,A.position.set(0,-2e3,0),j.position.set(0,-1,.5))}),j.addEventListener("cursorup",function(a){D&&(D=!1,B=!0,j.position.set(0,-5e3,5))}),A.add(o),o.rotateY(90*Math.PI/180),A.rotateZ(45*Math.PI/180),o.position.set(0,.4,0),o.scale.set(.008,.008,.1),o.inputEnabled=!0,document.body.style.display="block",UltimateLoader.load("http://playground-editor.s3-us-west-2.amazonaws.com/assets/obj/arrow4.obj",function(a){var b=new THREE.Group;b.position.set(0,-.5,0),b.scale.set(.1,.1,.1),b.rotateY(90*Math.PI/180);var c=a,d=c.clone();d.children[0].material=new THREE.MeshBasicMaterial({color:"blue"}),d.rotateZ(180*Math.PI/180),d.position.set(-2,0,0),b.add(d);var e=c.clone();e.children[0].material=new THREE.MeshBasicMaterial({color:"blue"}),e.position.set(2,0,0),b.add(e);var f=c.clone();f.children[0].material=new THREE.MeshBasicMaterial({color:"red"}),f.rotateZ(90*Math.PI/180),f.position.set(0,2,0),b.add(f);var g=c.clone();g.children[0].material=new THREE.MeshBasicMaterial({color:"red"}),g.rotateZ(-90*Math.PI/180),g.position.set(0,-2,0),b.add(g);var h=c.clone();h.children[0].material=new THREE.MeshBasicMaterial({color:"green"}),h.rotateZ(-135*Math.PI/180),h.position.set(-2,-2,0),b.add(h);var i=c.clone();i.children[0].material=new THREE.MeshBasicMaterial({color:"green"}),i.rotateZ(45*Math.PI/180),i.position.set(2,2,0),b.add(i),A.add(b);var j;j={text:"+x",fontSize:5};var k=sa(j);k.position.set(-.1,0,.31),e.add(k),j={text:"+y",fontSize:5};var l=sa(j);l.position.set(-.1,0,.31),l.rotateZ(-90*Math.PI/180),f.add(l),j={text:"+z",fontSize:5};var m=sa(j);m.position.set(0,0,.31),m.rotateZ(-45*Math.PI/180),i.add(m),j={text:"-x",fontSize:5};var n=sa(j);n.position.set(-.1,0,.31),n.rotateZ(-180*Math.PI/180),d.add(n),j={text:"-y",fontSize:5};var o=sa(j);o.position.set(-.1,0,.31),o.rotateZ(90*Math.PI/180),g.add(o),j={text:"-z",fontSize:5};var p=sa(j);p.position.set(0,0,.31),p.rotateZ(135*Math.PI/180),h.add(p),d.addEventListener("cursordown",function(a){G=K[F].arrow1,la()}),d.addEventListener("cursorup",function(a){G=!1,H=0}),e.addEventListener("cursordown",function(a){G=K[F].arrow2,la()}),e.addEventListener("cursorup",function(a){G=!1,H=0}),f.addEventListener("cursordown",function(a){G=K[F].arrow3,la()}),f.addEventListener("cursorup",function(a){G=!1,H=0}),g.addEventListener("cursordown",function(a){G=K[F].arrow4,la()}),g.addEventListener("cursorup",function(a){G=!1,H=0}),h.addEventListener("cursordown",function(a){G=K[F].arrow5,la()}),h.addEventListener("cursorup",function(a){G=!1,H=0}),i.addEventListener("cursordown",function(a){G=K[F].arrow6,la()}),i.addEventListener("cursorup",function(a){G=!1,H=0})})}function la(){if(w)switch(F){case"rotate":w.obj.rotation[G.axis]+=G.distance;break;case"move":w.obj.position[G.axis]+=G.distance;break;case"scale":w.obj.scale[G.axis]+=G.distance}}function ma(){E?(E=!1,B=!0,ua(ea[4],"n-text",{text:"Lock",fontSize:1}),THREE.SceneUtils.detach(A,g.hips,h)):(E=!0,B=!1,ua(ea[4],"n-text",{text:"Unlock",fontSize:1}),THREE.SceneUtils.attach(A,h,g.hips))}function na(){B?(B=!1,ua(ea[2],"n-text",{text:"Move",fontSize:1})):(B=!0,ua(ea[2],"n-text",{text:"Stay",fontSize:1}))}function oa(){function a(a,b){var c=b.key(),i=(b.val().baseRef,b.val().objRef),k=(b.val().extension,b.val().scale),m=b.val().pos,n=b.val().rot,o=b.val().settings.locked,p=b.val().objStatus;ra(i,c,m,n,k,p,o),a.child(c).child("pos").on("value",function(a){if(null!=a.val()){var b=a.val();!Ba(c)&&$[c]&&$[c].obj.position.set(b.x,b.y,b.z)}}),a.child(c).child("rot").on("value",function(a){if(null!=a.val()){var b=a.val();!Ba(c)&&$[c]&&$[c].obj.quaternion.set(b.x,b.y,b.z,b.w)}}),a.child(c).child("scale").on("value",function(a){if(null!=a.val()){var b=a.val();!Ba(c)&&$[c]&&$[c].obj.scale.set(l*b.x,l*b.y,l*b.z)}}),a.child(c).child("settings").child("currentlyBeingEdited").on("value",function(a){null!=a.val()&&!Ba(c)&&$[c]&&($[c].settings.currentlyBeingEdited=a.val())}),a.child(c).child("settings").child("locked").on("value",function(a){null!=a.val()&&!Ba(c)&&$[c]&&($[c].settings.locked=a.val(),1==a.val()?(g.isModerator||d)&&(document.getElementById("lock-object-toggle").innerHTML="Unlock"):(g.isModerator||d)&&(document.getElementById("lock-object-toggle").innerHTML="Lock"))}),a.child(c).on("child_removed",function(a){$[c]&&(h.remove($[c].obj),f.remove($[c].option.index),delete $[c])})}function b(a,b){var c=b.key();ba[c]={name:c,pos:{x:0,y:0,z:0},scale:1,settings:{currentlyEditing:!1}},a.child("pos").on("value",function(a,b){var d=a.val();Ba(c)&&$[c]&&(ba[c].pos=d,document.getElementById("posx").value=d.x,document.getElementById("posy").value=d.y,document.getElementById("posz").value=d.z)}),a.child("scale").on("value",function(a,b){var d=a.val();Ba(c)&&$[c]&&(ba[c].scale=d,document.getElementById("scalex").value=d.x,document.getElementById("scaley").value=d.y,document.getElementById("scalez").value=d.z)})}r.once("value",function(a){a.val()?v=a.val().editMode:s.update({editMode:1})}),s.once("value",function(a){a.val()||s.set({isUserCurrentlyEditing:0,selectedObject:"",preventRotate:!1,rotationSnap:360})}),q.on("child_added",function(c,d){a(q,c),b(q,c)}),s.child("editMode").on("value",function(a){v=a.val()}),s.child("rotationSnap").on("value",function(a){a.val()&&(C=a.val())})}function pa(a){for(var b in $)$[b]!=a&&$[b].obj.traverse(function(a){a instanceof THREE.Mesh&&(a.userData.altspace={collider:{enabled:!1}})});var c=a.obj;P.setFromMatrixPosition(g.head.matrixWorld),S.setFromMatrixPosition(c.matrixWorld),W=P.distanceTo(S),a.settings.currentlyBeingEdited=!0,w=a,x=!0,t=q.child(a.name),t.child("settings").update({currentlyBeingEdited:!0}),s.child("isUserCurrentlyEditing").set(!0),s.child("selectedObject").set(a.name),document.getElementById("object").innerHTML="Object Selected: "+a.name,t.child("pos").once("value",function(a){var b=a.val();document.getElementById("posx").value=b.x,document.getElementById("posy").value=b.y,document.getElementById("posz").value=b.z}),document.getElementById("rotx").value=1,document.getElementById("roty").value=1,document.getElementById("rotz").value=1,t.child("scale").once("value",function(a){var b=a.val();document.getElementById("scalex").value=b.x,document.getElementById("scaley").value=b.y,document.getElementById("scalez").value=b.z})}function qa(a){a.obj;a.settings.currentlyBeingEdited=!1,x=!1,s.child("isUserCurrentlyEditing").set(!1),t.child("settings").update({currentlyBeingEdited:!1}),M=0,N=0,O=0,Y=0;for(var c in $)$[c].obj.traverse(function(a){a instanceof THREE.Mesh&&!$[c].settings.locked&&(a.userData.altspace={collider:{enabled:!0}})})}function ra(a,b,c,d,e,f,g){var h=ta("n-object");ua(h,"n-object",{res:a}),h.position.set(c.x,c.y,c.z),h.scale.set(l*e.x,l*e.y,l*e.z),h.quaternion.set(d.x,d.y,d.z,d.w),h.userData.altspace={collider:{enabled:!0}},h.traverse(function(a){a instanceof THREE.Mesh&&(a.userData.altspace={collider:{enabled:!0}})});var i={text:b,fontSize:5},j=sa(i);j.visible=!1,h.add(j);var k=b.split("-");b.length-1;for(var m={w:0,h:1,l:0},n=0;n<k.length-1;n++){var o=/\d/g;if(o.test(k[n]))switch(k[n][1]){case"r":m.w=parseInt(k[n][0]),m.l=parseInt(k[n][0]);break;case"d":m.w=parseInt(k[n][0]),m.h=parseInt(k[n][0]);break;case"w":m.w=parseInt(k[n][0]);break;case"h":m.h=parseInt(k[n][0]);break;case"l":m.l=parseInt(k[n][0])}}switch(k[0]){case"pipe":var p=m.l;m.l=m.w,m.w=-p;break;default:m.l=-m.l}j.position.set(m.l/2,m.h+1,m.w/2),altspace.addNativeComponent(j,"n-billboard"),va(b,h,g,j)}function sa(a){var b=ta("n-text");return ua(b,"n-text",a),b}function ta(a){var b=new THREE.BoxGeometry(.001,.001,.001),c=new THREE.MeshBasicMaterial({color:0});c.visible=!1;var d=new THREE.Mesh(b,c);return h.add(d),altspace.addNativeComponent(d,a),d}function ua(a,b,c){var d=fa["n-text"];for(var e in c)d[e]=c[e];altspace.updateNativeComponent(a,b,d)}function va(a,b,c,e){$[a]={name:a,obj:b,boundingBox:za(b),settings:{currentlyBeingEdited:!1,locked:c},text:e},b.traverse(function(a){a instanceof THREE.Mesh&&(c?a.userData.altspace={collider:{enabled:!1}}:a.userData.altspace={collider:{enabled:!0}})});var h=q;if(h.child(a).update({objStatus:"old"}),g.isModerator||d){wa($[a]);var i=f.appendChild(document.createElement("option")),j=document.createAttribute("id");j.value=a,i.setAttributeNode(j),i.innerHTML=a,i.value=a,$[a].option=i}var k=$[a].boundingBox.size();k.x>2e3&&k.x<1e4?(b.scale.set(.01,.01,.01),$[a].scale=.01,h.child(a).child("scale").set({x:.1,y:.1,z:.1}),h.child(a).child("scaleRatio").set(.1)):k.x>1e4?(b.scale.set(.001,.001,.001),$[a].scale=.001,h.child(a).child("scale").set({x:.001,y:.001,z:.001}),h.child(a).child("scaleRatio").set(.001)):h.child(a).child("scaleRatio").once("value",function(b){b.val()?$[a].scale=b.val():$[a].scale=1})}function wa(a){var b=a.obj;b.addEventListener("cursorup",function(c){v&&(x?x&&w.obj==b&&qa(a):a.settings.currentlyBeingEdited||a.settings.locked||pa(a))}),b.addEventListener("cursorenter",function(c){x||a.settings.currentlyBeingEdited||a.settings.locked||1!=v||(a.text&&(a.text.visible=!0),b.traverse(function(a){a instanceof THREE.Mesh&&(a.material.color=_)}))}),b.addEventListener("cursorleave",function(c){x||a.settings.currentlyBeingEdited||a.settings.locked||1!=v||(a.text&&(a.text.visible=!1),b.traverse(function(a){a instanceof THREE.Mesh&&(a.material.color=aa)}))})}function xa(b,c,d){if("x"===c){var e=(d-M)*C*Math.PI/180;$[b].obj.rotateX(e),M=d}else if("y"===c){var f=(d-N)*C*Math.PI/180;$[b].obj.rotateY(f),N=d}else if("z"===c){var g=(d-O)*C*Math.PI/180;$[b].obj.rotateZ(g),O=d}a.setRotation(b)}function za(a){var b=(new THREE.Box3).setFromObject(a);return b}function Aa(a){return"The method - "+a+" - could not be called because PlaygroundEditor is NOT initilized!"}function Ba(a){if(null!=w){if(!x)return!1;if(w.name==a)return!0}return!1}function Ca(){s.child("rotationSnap").set(1),s.child("editMode").once("value",function(a){v=a.val(),v?document.getElementById("edit-toggle").innerHTML="ON":document.getElementById("edit-toggle").innerHTML="OFF"}),s.onDisconnect().update({selectedObject:""})}function Da(){document.getElementById("posx").onkeydown=function(b){13==b.keyCode&&a.updatePOS()},document.getElementById("posy").onkeydown=function(b){13==b.keyCode&&a.updatePOS()},document.getElementById("posz").onkeydown=function(b){13==b.keyCode&&a.updatePOS()},document.getElementById("scalex").onkeydown=function(b){13==b.keyCode&&a.updateScale()},document.getElementById("scaley").onkeydown=function(b){13==b.keyCode&&a.updateScale()},document.getElementById("scalez").onkeydown=function(b){13==b.keyCode&&a.updateScale()},document.getElementById("rotationSnap").onkeydown=function(b){13==b.keyCode&&a.updateRotSnap()},Ca()}var e,f,m,c=!1,d=!1,g={},h={},j={},k={},l=0,o={},p={},q={},r={},s={},t={},u=!1,v=!0,w={},x=!1,u=!1,y=0,A={},B=!0,C=360,D=!1,E=!1,F="move",G=!1,H=0,I="",J=null,K={rotate:{arrow1:{axis:"x",distance:-.01},arrow2:{axis:"x",distance:.01},arrow3:{axis:"y",distance:.01},arrow4:{axis:"y",distance:-.01},arrow5:{axis:"z",distance:-.01},arrow6:{axis:"z",distance:.01}},move:{arrow1:{axis:"x",distance:-.01},arrow2:{axis:"x",distance:.01},arrow3:{axis:"y",distance:.01},arrow4:{axis:"y",distance:-.01},arrow5:{axis:"z",distance:-.01},arrow6:{axis:"z",distance:.01}},scale:{arrow1:{axis:"x",distance:-.01},arrow2:{axis:"x",distance:.01},arrow3:{axis:"y",distance:.01},arrow4:{axis:"y",distance:-.01},arrow5:{axis:"z",distance:-.01},arrow6:{axis:"z",distance:.01}}},L=new THREE.Quaternion,M=0,N=0,O=0,P=new THREE.Vector3,Q=new THREE.Vector3,S=(new THREE.Vector3,new THREE.Vector3),T=new THREE.Vector3,U=new THREE.Vector3,W=(new THREE.Matrix4,0),X=0,Y=0,$={},_=new THREE.Color("red"),aa=new THREE.Color("0xffffff"),ba={},ea=[],fa={"n-text":{text:"",fontSize:10,width:10,height:1,horizontalAlign:"middle",verticalAlign:"middle"}};a.start=function(a,c){if(h=a||null,e=c||!1,null==h)return void console.log("PlaygroundEditor: a scene must be passed via start()! Exiting.");var d=[b.getUser(),b.getSpace(),b.getEnclosure(),b.getDocument()];Promise.all(d).then(function(a){g=a.shift(),j=a.shift(),k=a.shift(),o=a.shift(),m=k.pixelsPerMeter,l=1,k.requestFullspace(),UltimateLoader.imageSize=3.2;for(var c=!1,d=0;d<h.children.length;d++)if("TrackingSkeleton"==h.children[d].type){c=!0,g.head=h.children[d].getJoint("Head"),g.hips=h.children[d].getJoint("Hips"),g.foot=h.children[d].getJoint("Foot"),ga();break}c||b.getThreeJSTrackingSkeleton().then(function(a){h.add(a),g.head=a.getJoint("Head"),g.hips=a.getJoint("Hips"),g.foot=a.getJoint("Toes"),ga()})})},a.selectNative=function(b,c){for(var d=c+"/"+b,e=b.split("-"),f={w:.5,h:.5,l:.5},g=0;g<e.length;g++){var i=/\d/g;if(i.test(e[g]))switch(e[g][1]){case"r":f.w=parseInt(e[g][0]),f.l=parseInt(e[g][0]);break;case"d":f.w=parseInt(e[g][0]),f.h=parseInt(e[g][0]);break;case"w":f.w=parseInt(e[g][0]);break;case"h":f.h=parseInt(e[g][0]);break;case"l":f.l=parseInt(e[g][0])}}"architecture"!=c&&"pipes"!=c||(c=e[0]),I={path:d,res:b,type:c,demensions:f},a.clearSelectBox();var j=!1;switch(c){case"ceiling":f.h=.25,j=!0;break;case"floor":f.h=.25,j=!0;break;case"door":j=!0;break;case"pipe":var k=I.demensions.l;f.l=I.demensions.w,f.w=k;break;case"effects":j=!0;break;case"objects":j=!0}if(j){var l=new THREE.BoxGeometry(f.l,f.h,f.w);J=new THREE.Mesh(l,new THREE.MeshBasicMaterial({color:"#FF0000",transparent:!0,opacity:.3})),J.scale.set(1,1,1),J.position.set(0,0,0),J.visible=!0,J.userData.useBox=!0,h.add(J)}else J=ta("n-object"),ua(J,"n-object",{res:d}),J.userData.useBox=!1,h.add(J);J.addEventListener("cursorup",function(a){ja()})},a.clearSelectBox=function(){null!==J&&(h.remove(J),J.removeEventListener("cursorup",function(a){ja()}))},a.setPosition=function(a,b){if(!c)return void console.log(Aa("setPosition"));var d=t.child("pos");d.set({x:b.x,y:b.y,z:b.z})},a.setRotation=function(a){if(!c)return void console.log(Aa("setRotation"));var b=t.child("rot");$[a].obj.getWorldQuaternion(L),b.set({x:L.x,y:L.y,z:L.z,w:L.w})},a.update=function(a){if(g.isModerator||d){if(P.setFromMatrixPosition(g.head.matrixWorld),g.head.getWorldDirection(U),Q.setFromMatrixPosition(g.hips.matrixWorld),T.setFromMatrixPosition(A.matrixWorld),B){var b=T.distanceTo(Q);b>1&&(A.lookAt(Q),A.rotateY(-90*Math.PI/180),A.rotateZ(45*Math.PI/180)),b>4&&(Q.x=Q.x+3*U.x,Q.z=Q.z+3*U.z,A.position.copy(Q))}if(x){var c={};S.setFromMatrixPosition(w.obj.matrixWorld),X=P.distanceTo(S),0==y?(c.x=P.x+W*U.x,c.y=S.y,c.z=P.z+W*U.z):1==y?(c.x=S.x,c.y=P.y+X*(U.y-.15),c.z=S.z):2==y&&(c.x=P.x+W*U.x,c.y=P.y+W*(U.y-.15),c.z=P.z+W*U.z),c.x=Math.round(2*c.x)/2,c.y=Math.round(2*c.y)/2,c.z=Math.round(2*c.z)/2,document.getElementById("posx").value=c.x,document.getElementById("posy").value=c.y,document.getElementById("posz").value=c.z,c.y+w.boundingBox.min.y<0&&(c.y=0),w.obj.position.set(c.x,c.y,c.z),PlaygroundEditor.setPosition(w.name,c)}if(G){0==H&&(H=a);var e=a-H;e>=1e3&&la()}if(null!==J){var c={},f=2,b=5,h=0;switch(I.type){case"ceiling":f=4;break;case"floor":f=4;break;case"effects":b=2;break;case"objects":b=2;break;case"pipe":h=.5}c.x=P.x+b*U.x,c.y=P.y+b*U.y,c.z=P.z+b*U.z,c.x=Math.round(2*c.x)/2,c.y=Math.round(c.y*f)/f,c.z=Math.round(2*c.z)/2,c.y<h&&(c.y=h),J.position.set(c.x,c.y,c.z),I.pos=c}}},a.getPosition=function(a){if(!c)return void console.log(Aa("getPosition"));var b;return t.once("value",function(a){b=a.val()}),b},a.getRotation=function(a){if(!c)return void console.log(Aa("getRotation"));var b;return t.once("value",function(a){b=a.val()}),b},a.isUserCurrentlyEditing=function(){return c?x:void console.log(Aa("isUserCurrentlyEditing"))},a.currentObjectBeingEdited=function(){return c?w:void console.log(Aa("isUserCurrentlyEditing"))},a.toggleEdit=function(){v?(v=!1,s.update({editMode:0}),document.getElementById("edit-toggle").innerHTML="OFF"):(v=!0,s.update({editMode:1}),document.getElementById("edit-toggle").innerHTML="ON")},a.toggleRotate=function(){u?(u=!1,s.update({preventRotate:0}),document.getElementById("rotate-toggle").innerHTML="FALSE"):(u=!0,s.update({preventRotate:1}),document.getElementById("rotate-toggle").innerHTML="TRUE")},a.updateRotSnap=function(){var a=parseInt(document.getElementById("rotationSnap").value);a>0&&a<=360&&(s.child("rotationSnap").set(a),document.getElementById("rotx").max=360/a,document.getElementById("roty").max=360/a,document.getElementById("rotz").max=360/a)},a.updatePOS=function(){var a={};if(""!=w.name&&null!=w){a.x=parseFloat(document.getElementById("posx").value),a.y=parseFloat(document.getElementById("posy").value),a.z=parseFloat(document.getElementById("posz").value);var b=t.child("pos");b.set({x:a.x,y:a.y,z:a.z})}},a.updateROT=function(a,b,c){""!=w.name&&null!=w&&xa(w.name,a,parseFloat(b))},a.updateScaleXYZ=function(a){var b={};if(""!=w.name&&null!=w){b.x=parseFloat(a),b.y=parseFloat(a),b.z=parseFloat(a);var c=t.child("scale");c.set({x:b.x,y:b.x,z:b.z}),w.obj.scale.set(l*b.x,l*b.y,l*b.z)}},a.updateScale=function(){var a={};if(""!=w.name&&null!=w&&(a.x=parseFloat(document.getElementById("scalex").value),a.y=parseFloat(document.getElementById("scaley").value),a.z=parseFloat(document.getElementById("scalez").value),a.x>0&&a.y>0&&a.z>0)){var b=t.child("scale");b.set({x:a.x,y:a.y,z:a.z}),w.obj.scale.set(l*a.x,l*a.y,l*a.z)}},a.updateSelected=function(a){x&&qa(w),w=$[a],t=q.child($[a].name),document.getElementById("object").innerHTML="Object Selected: "+a,w.settings.locked?(document.getElementById("lock-object-toggle").innerHTML="Unlock",w.obj.traverse(function(a){a instanceof THREE.Mesh&&(a.userData.altspace={collider:{enabled:!1}})})):(document.getElementById("lock-object-toggle").innerHTML="Lock",w.obj.traverse(function(a){a instanceof THREE.Mesh&&(a.userData.altspace={collider:{enabled:!0}})}))},a.toggleLock=function(){w.settings.locked?(w.settings.locked=!1,t.child("settings").update({locked:!1}),document.getElementById("lock-object-toggle").innerHTML="Lock",w.obj.traverse(function(a){a instanceof THREE.Mesh&&(a.userData.altspace.collider.enabled=!0)})):(w.settings.locked=!0,t.child("settings").update({locked:!0}),document.getElementById("lock-object-toggle").innerHTML="Unlock",w.obj.traverse(function(a){a instanceof THREE.Mesh&&(a.userData.altspace.collider.enabled=!1)}))},window.AFRAME&&AFRAME.registerComponent("playground-editor",{schema:{},init:function(){a.start(this.el.object3D)},tick:function(b){c&&a.update(b)}})}(PlaygroundEditor,altspace),window.onload=function(){var a="<div id=\"masterWrapper\"><div id=\"tabWrapper\"><ul class=\"tab\"><li><button type=\"button\" class=\"tablinks\" onclick=\"openTab(event, 'viewer')\">Viewer</button></li><li><button type=\"button\" class=\"tablinks active\" onclick=\"openTab(event, 'create')\">Create</button></li><li><button type=\"button\" class=\"tablinks\" onclick=\"openTab(event, 'settings')\">App Settings</button></li><li><button type=\"button\" class=\"tablinks\" onclick=\"openTab(event, 'help')\">Help</button></li></ul><div id=\"object\"></div></div><div id=\"contentWrapper\"><div id=\"viewer\" class=\"tabcontent\"> <select onchange=\"PlaygroundEditor.updateSelected(this.value); return false;\" id=\"viewer-option\"></select><div id=\"viewer-settings-lock\">Lock Object: <button type=\"button\" class=\"button\" id=\"lock-object-toggle\" onclick=\"PlaygroundEditor.toggleLock()\">Lock</button></div></div><div id=\"create\" class=\"tabcontent\"><div class=\"clear-selected\">Clear Select Box: <button type=\"button\" class=\"button\" id=\"clear=select-box\" onclick=\"PlaygroundEditor.clearSelectBox()\">Clear</button></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Architecture</div><ul class=\"image-list\" type=\"architecture\"><li id='ceiling-2w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-2w-2l.png'/><li id='ceiling-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-4w-4l.png'/><li id='ceiling-skylight-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-4w-4l.png'/><li id='ceiling-skylight-corner-2w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-corner-2w-2l.png'/><li id='ceiling-skylight-edge-2w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-edge-2w.png'/><li id='ceiling-skylight-edge-4w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-edge-4w.png'/><li id='ceiling-skylight-filler-4w-4l-2'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-filler-4w-4l-2.png'/><li id='ceiling-skylight-filler-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-filler-4w-4l.png'/><li id='ceiling-slice-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-concave-2r.png'/><li id='ceiling-slice-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-concave-4r.png'/><li id='ceiling-slice-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-convex-2r.png'/><li id='ceiling-slice-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-convex-4r.png'/><li id='door-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/door-4w-4h.png'/><li id='floor-2w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-2w-2l.png'/><li id='floor-2w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-2w-4l.png'/><li id='floor-4w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-4w-2l.png'/><li id='floor-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-4w-4l.png'/><li id='floor-slice-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-concave-2r.png'/><li id='floor-slice-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-concave-4r.png'/><li id='floor-slice-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-convex-2r.png'/><li id='floor-slice-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-convex-4r.png'/><li id='railing-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/railing-2l.png'/><li id='railing-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/railing-4l.png'/><li id='railing-curve-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/railing-curve-concave-2r.png'/><li id='wall-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-2w-4h.png'/><li id='wall-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-4w-4h.png'/><li id='wall-base-2w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-2w.png'/><li id='wall-base-4w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-4w.png'/><li id='wall-base-curve-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-concave-2r.png'/><li id='wall-base-curve-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-concave-4r.png'/><li id='wall-base-curve-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-convex-2r.png'/><li id='wall-base-curve-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-convex-4r.png'/><li id='wall-bulkhead-2w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-2w.png'/><li id='wall-bulkhead-4w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-4w.png'/><li id='wall-bulkhead-curve-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-concave-2r.png'/><li id='wall-bulkhead-curve-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-concave-4r.png'/><li id='wall-bulkhead-curve-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-convex-2r.png'/><li id='wall-bulkhead-curve-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-convex-4r.png'/><li id='wall-curve-concave-2r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-concave-2r-4h.png'/><li id='wall-curve-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-concave-4r-4h.png'/><li id='wall-curve-convex-2r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-convex-2r-4h.png'/><li id='wall-curve-convex-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-convex-4r-4h.png'/><li id='wall-curve-window-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-concave-4r-4h.png'/><li id='wall-curve-window-concave-filler-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-concave-filler-4r-4h.png'/><li id='wall-curve-window-gap-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-gap-concave-4r-4h.png'/><li id='wall-curve-window-gap-end-l-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-gap-end-l-concave-4r-4h.png'/><li id='wall-curve-window-gap-end-r-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-gap-end-r-concave-4r-4h.png'/><li id='wall-filler-corner-inner-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-filler-corner-inner-4h.png'/><li id='wall-filler-corner-outer-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-filler-corner-outer-4h.png'/><li id='wall-window-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-4w-4h.png'/><li id='wall-window-filler-2'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-filler-2.png'/><li id='wall-window-gap-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-2w-4h.png'/><li id='wall-window-gap-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-4w-4h.png'/><li id='wall-window-gap-end-l-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-l-2w-4h.png'/><li id='wall-window-gap-end-l-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-l-4w-4h.png'/><li id='wall-window-gap-end-r-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-r-2w-4h.png'/><li id='wall-window-gap-end-r-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-r-4w-4h.png'/></ul></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Pipes</div><ul class=\"image-list\" type=\"pipes\"><li id='pipe-full-cap-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-cap-1d.png'/><li id='pipe-full-cross-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-cross-1d.png'/><li id='pipe-full-elbow-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-elbow-1d.png'/><li id='pipe-full-fork-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-fork-1d.png'/><li id='pipe-full-straight-1d-1l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-straight-1d-1l.png'/><li id='pipe-full-straight-1d-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-straight-1d-2l.png'/><li id='pipe-full-straight-1d-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-straight-1d-4l.png'/><li id='pipe-full-tee-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-tee-1d.png'/><li id='pipe-half-cap-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-cap-1d.png'/><li id='pipe-half-cross-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-cross-1d.png'/><li id='pipe-half-elbow-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-elbow-1d.png'/><li id='pipe-half-fork-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-fork-1d.png'/><li id='pipe-half-straight-1d-1l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-straight-1d-1l.png'/><li id='pipe-half-straight-1d-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-straight-1d-2l.png'/><li id='pipe-half-straight-1d-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-straight-1d-4l.png'/><li id='pipe-half-tee-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-tee-1d.png'/></ul></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Objects</div><ul class=\"image-list\" type=\"objects\"><li id='basketball-hoop'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/basketball-hoop.png'/><li id='coin'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/coin.png'/><li id='cup'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/cup.png'/><li id='gem'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/gem.png'/><li id='hoop'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/hoop.png'/><li id='ring'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ring.png'/><li id='target-archery'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/target-archery.png'/></ul></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Effects</div><ul class=\"image-list\" type=\"effects\"><li id='fire'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/fire.png'/><li id='fireworks'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/fireworks.png'/><li id='smoke'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/smoke.png'/><li id='sparkler'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/sparkler.png'/><li id='steam'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/steam.png'/></ul></div></div><div id=\"settings\" class=\"tabcontent\"><div id=\"general-settings\"> <div id=\"settings-edit\">Edit Mode: <button type=\"button\" class=\"button\" id=\"edit-toggle\" onclick=\"PlaygroundEditor.toggleEdit()\">Toggle</button></div><div id=\"settings-rotationSnap\">Rotation Snap (degrees): <input type=\"text\" id=\"rotationSnap\" name=\"rotationSnap\" value=\"1\"></div></div></div><div id=\"help\" class=\"tabcontent\"><div class=\"help-wrapper\"><div class=\"help-title\">PLAYGROUND EDITOR</div><p> <span>How to move an object: </span><br></option>It's easy! Click on the object you want to move. When you move your head, the object will follow. When you're done moving the object, click it again.</p><p> <span>Creating an Object: </span><br></option>In the <i>Create</i> tab, select the model you wish to spawn. The object will appear in front of you. To place it, click the object.</p><p> <span>Transform: </span><br></option>Click the buttons in the grat part of the the panel. You can manually enter values into the text fields - hitting enter will submit your changes. Moving the sliders will change the value automatically. Just slide it until you like your changes!</p><p> <span>Settings: </span><br></option>When <i>Edit Mode</i> is set to <b>FALSE</b>, you will not be able to move objects. This is good for when you just want to explore. When <i>Rotate On Placement</i> is set to <b>TRUE</b>, the object you are moving will snap to it's default rotation when you stop moving it. You can also change the rotation snap to a specified degree. For instance, if you type in 90, the object will rotate 90 degrees. All settings are LOCAL TO YOU ONLY.</p></div></div><div id=\"positionTab\" class=\"tabcontent transformTabs\"><div id=\"pos\">Position <br></option><form onsubmit=\"PlaygroundEditor.updatePOS(); return false;\">X: <input type=\"text\" id=\"posx\" name=\"posX\" value=\"\"><br></option>Y: <input type=\"text\" id=\"posy\"name=\"posY\" value=\"\"><br></option>Z: <input type=\"text\" id=\"posz\" name=\"posZ\" value=\"\"><br></option></form></div></div><div id=\"rotationTab\" class=\"tabcontent transformTabs\"><div id=\"rot\">Rotation <br></option>X: <input type=\"range\" id=\"rotx\" name=\"rotX\" min=\"1\" max=\"360\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateROT('x', this.value, this.max)\"><br>Y: <input type=\"range\" id=\"roty\" name=\"rotY\" min=\"1\" max=\"360\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateROT('y', this.value, this.max)\"><br>Z: <input type=\"range\" id=\"rotz\" name=\"rotZ\" min=\"1\" max=\"360\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateROT('z', this.value, this.max)\"><br></div></div><div id=\"scaleTab\" class=\"tabcontent transformTabs\"><div id=\"scale\">Scale <br></option>XYZ: <input type=\"range\" id=\"scaleXYZ\" name=\"scaleXYZ\" min=\"1\" max=\"100\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateScaleXYZ(this.value)\"><br><form onsubmit=\"PlaygroundEditor.updateScale(); return false;\">X: <input type=\"text\" id=\"scalex\" name=\"scaleX\" value=\"\"><br></option>Y: <input type=\"text\" id=\"scaley\" name=\"scaleY\" value=\"\"><br></option>Z: <input type=\"text\" id=\"scalez\" name=\"scaleZ\" value=\"\"><br></option></form></div></div></div></div>";
document.body.insertAdjacentHTML("afterbegin",a);var b='<style type="text/css">body,html,video{margin:0;padding:0;width:100%;height:100%;overflow:hidden}body{display:none;background-color:#fff}.clear-selected{font-size:32px;margin-left:30px}.image-list-wrapper{width:22%s;float:left;margin-left:30px;margin-top:25px}.image-list-title{font-size:32px;text-align:center}.image-list img{width:200px}.image-list{margin:0;padding:0;white-space:nowrap;width:100%;height:350px;overflow-y:scroll;overflow-x:hidden;background-color:#ddd}#general-settings,#my-objects-list,#new-object,#object-settings{min-width:300px;padding:10px;background:#fff}.image-list ul li{display:inline}#contentWrapper{overflow: hidden;margin-top:20px;width:100%}#viewer{font-size:28px;padding:10px}#new-object input,#new-object select,#viewer select{font-size:24px;min-height:20px}.viewer-object{margin-top:30px}#alert{color:red;font-style:italic}#new-object{min-height:20px;margin-bottom:50px}#general-settings{min-height:20px;margin-bottom:50px;font-size:28px}#my-objects-list{font-size:28px;min-height:20px;margin-bottom:50px}.button{height:40px;font-size:28px}#object-settings{min-height:20px}#object{float:right;font-size:28px}.transformTabs{margin:50px auto auto;text-align:center}#pos input,#rot input,#scale input{margin-top:20px;min-height:50px;min-width:500px;font-size:32px}#pos,#rot,#scale{font-size:32px}ul.tab{list-style-type:none;margin:0;padding:0;overflow:hidden;background-color:#f1f1f1}ul.tab li{float:left}ul.tab li button{display:inline-block;color:#000;text-align:center;padding:14px 16px;text-decoration:none;transition:.3s;font-size:17px}ul.tab li a:hover{background-color:#ddd}.active,ul.tab li a:focus{background-color:#ccc}.tabcontent{display:none;width:100%}</style>';document.head.insertAdjacentHTML("beforeEnd",b),document.getElementById("create").style.display="block";for(var c=document.getElementsByClassName("image-list"),d=0;d<c.length;d++)c[d].addEventListener("click",function(a){var b=a.target.parentNode;PlaygroundEditor.selectNative(b.id,b.parentNode.getAttribute("type"))})};