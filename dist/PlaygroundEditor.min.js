function openTab(e,t){var i,n,a;for(n=document.getElementsByClassName("tabcontent"),i=0;i<n.length;i++)n[i].style.display="none";for(a=document.getElementsByClassName("tablinks"),i=0;i<a.length;i++)a[i].className=a[i].className.replace(" active","");document.getElementById(t).style.display="block",null!=e&&(e.currentTarget.className+=" active")}var PlaygroundEditor=PlaygroundEditor||{};!function(e,t){"use strict";function i(e){e!==!1?(j.head=S.children[e].getJoint("Head"),j.hips=S.children[e].getJoint("Hips"),j.foot=S.children[e].getJoint("Foot")):t.getThreeJSTrackingSkeleton().then(function(e){S.add(e),j.head=e.getJoint("Head"),j.hips=e.getJoint("Hips"),j.foot=e.getJoint("Toes")})}function n(){var e={appId:"Playground-Editor",instanceId:P.sid,authorId:"NorybiaK",baseRefUrl:"playground-editor.firebaseio.com"};t.utilities.sync.connect(e).then(function(e){a(e)})}function a(e){var t=e.instance;C=t.child("PlaygroundEditor"),Y=C.child("objects"),Z=C.child("settings"),U=e.app.child("PlaygroundEditor").child("users").child(j.userId),s()}function s(){if(g(),j.isModerator||H)l(),M();else{var e=document.getElementById("masterWrapper");e.innerHTML=""}B=document.getElementById("viewer-option"),T(),R=!0,console.log("PlaygroundEditor: Started!")}function o(){var e=te.res+"-"+(Math.random()+1).toString(36).substring(7);if(we[e])return void console.log("PlaygroundEditor: Object - "+e+" - already exists! Skipping this object...");var t=ie.position;if(ie.userData.useBox){var i=(new THREE.Box3).setFromObject(ie);switch(te.type){case"ceiling":t={x:i.max.x,y:i.max.y,z:i.min.z};break;case"floor":t={x:i.max.x,y:i.max.y,z:i.min.z};break;case"pipe":t={x:(i.max.x+i.min.x)/2,y:(i.max.y+i.min.y)/2,z:i.max.z};break;default:t={x:i.min.x,y:i.min.y,z:i.min.z};break;case"effects":t={x:(i.max.x+i.min.x)/2,y:i.min.y,z:(i.max.z+i.min.z)/2};break;case"objects":t={x:(i.max.x+i.min.x)/2,y:i.min.y,z:(i.max.z+i.min.z)/2}}}Y.child(e).set({baseRef:"",objRef:te.path,extension:"",pos:t,rot:{x:0,y:0,z:0,w:1},rotEdit:{x:1,y:1,z:1},scale:{x:1,y:1,z:1},settings:{locked:!1},objStatus:"new"})}function l(){var e,t=new THREE.TextureLoader;t.setCrossOrigin("anonymous");var i;e=new THREE.BoxGeometry(.05,.3,1),J=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#9f9f9f"})),J.scale.set(1,1,1),S.add(J),e=new THREE.BoxGeometry(.1,.1,.3);var n=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#cccccc"}));n.scale.set(.5,.5,.5),n.position.set(.02,.08,0),J.add(n),e=new THREE.BoxGeometry(.1,.1,.3);var a=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#cccccc"}));a.scale.set(.5,.5,.5),a.position.set(.02,.08,-.2),J.add(a),e=new THREE.BoxGeometry(.1,.1,.3);var s=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#cccccc"}));s.scale.set(.5,.5,.5),s.position.set(.02,.08,-.4),J.add(s),e=new THREE.BoxGeometry(.02,.15,.3);var o=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#cccccc"}));o.scale.set(1,1,1),o.position.set(0,-5e3,5),o.rotateY(90*Math.PI/180),o.rotateZ(75*Math.PI/180),j.hips.add(o);var l;l={text:"Moving",fontSize:1},xe[0]=h(l),xe[0].position.set(0,-.3,.3),xe[0].rotateY(90*Math.PI/180),J.add(xe[0]),l={text:"X,Z",fontSize:1},xe[1]=h(l),xe[1].position.set(.026,.07,.4),xe[1].rotateY(90*Math.PI/180),J.add(xe[1]),l={text:"Stay",fontSize:1},xe[2]=h(l),xe[2].position.set(.052,0,0),xe[2].rotateY(90*Math.PI/180),a.add(xe[2]),l={text:"Hide",fontSize:1},xe[3]=h(l),xe[3].position.set(.052,0,0),xe[3].rotateY(90*Math.PI/180),s.add(xe[3]),l={text:"Lock",fontSize:1},xe[4]=h(l),xe[4].position.set(.052,0,0),xe[4].rotateY(90*Math.PI/180),n.add(xe[4]),l={text:"Unhide",fontSize:1},xe[5]=h(l),xe[5].position.set(.052,0,0),xe[5].rotateY(90*Math.PI/180),o.add(xe[5]);var g;i="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/move_map.png",t.load(i,function(t){e=new THREE.BoxGeometry(.05,.15,.15),g=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#cccccc",map:t})),g.scale.set(1,1,1),g.position.set(.02,-.06,.4),J.add(g),g.addEventListener("cursorup",function(e){switch(G>=2?G=0:G++,G){case 0:f(xe[1],"n-text",{text:"X,Z",fontSize:1});break;case 1:f(xe[1],"n-text",{text:"Y",fontSize:1});break;case 2:f(xe[1],"n-text",{text:"X,Y,Z",fontSize:1})}openTab(null,"positionTab"),K="move",f(xe[0],"n-text",{text:"Moving",fontSize:1})})});var u;i="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/rotate_map.png",t.load(i,function(t){e=new THREE.BoxGeometry(.05,.15,.15),u=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#cccccc",map:t})),u.scale.set(1,1,1),u.position.set(.02,-.06,.15),J.add(u),u.addEventListener("cursorup",function(e){openTab(null,"rotationTab"),K="rotate",f(xe[0],"n-text",{text:"Rotating",fontSize:1})})});var m;i="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/scale_map.png",t.load(i,function(t){e=new THREE.BoxGeometry(.05,.15,.15),m=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#cccccc",map:t})),m.scale.set(1,1,1),m.position.set(.02,-.06,-.1),J.add(m),m.addEventListener("cursorup",function(e){openTab(null,"scaleTab"),K="scale",f(xe[0],"n-text",{text:"Scaling",fontSize:1})})});var w;i="http://playground-editor.s3-us-west-2.amazonaws.com/assets/images/delete_map.png",t.load(i,function(t){e=new THREE.BoxGeometry(.05,.15,.15),w=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:"#FF0000",map:t})),w.scale.set(1,1,1),w.position.set(.02,-.06,-.4),J.add(w),w.addEventListener("cursordown",function(e){p(W),N.set(null),W=null})}),n.addEventListener("cursorup",function(e){d()}),a.addEventListener("cursorup",function(e){c()}),s.addEventListener("cursorup",function(e){q||(Q&&d(),q=!0,V=!1,J.position.set(0,-2e3,0),o.position.set(0,-1,.5))}),o.addEventListener("cursorup",function(e){q&&(q=!1,V=!0,o.position.set(0,-5e3,5))}),J.add(F),F.rotateY(90*Math.PI/180),J.rotateZ(45*Math.PI/180),F.position.set(0,.4,0),F.scale.set(.008,.008,.1),F.inputEnabled=!0,document.body.style.display="block",UltimateLoader.load("http://playground-editor.s3-us-west-2.amazonaws.com/assets/obj/arrow4.obj",function(e){var t=new THREE.Group;t.position.set(0,-.5,0),t.scale.set(.1,.1,.1),t.rotateY(90*Math.PI/180);var i=e,n=i.clone();n.children[0].material=new THREE.MeshBasicMaterial({color:"blue"}),n.rotateZ(180*Math.PI/180),n.position.set(-2,0,0),t.add(n);var a=i.clone();a.children[0].material=new THREE.MeshBasicMaterial({color:"blue"}),a.position.set(2,0,0),t.add(a);var s=i.clone();s.children[0].material=new THREE.MeshBasicMaterial({color:"red"}),s.rotateZ(90*Math.PI/180),s.position.set(0,2,0),t.add(s);var o=i.clone();o.children[0].material=new THREE.MeshBasicMaterial({color:"red"}),o.rotateZ(-90*Math.PI/180),o.position.set(0,-2,0),t.add(o);var l=i.clone();l.children[0].material=new THREE.MeshBasicMaterial({color:"green"}),l.rotateZ(-135*Math.PI/180),l.position.set(-2,-2,0),t.add(l);var d=i.clone();d.children[0].material=new THREE.MeshBasicMaterial({color:"green"}),d.rotateZ(45*Math.PI/180),d.position.set(2,2,0),t.add(d),J.add(t);var c;c={text:"+x",fontSize:5};var g=h(c);g.position.set(-.1,0,.31),a.add(g),c={text:"+y",fontSize:5};var u=h(c);u.position.set(-.1,0,.31),u.rotateZ(-90*Math.PI/180),s.add(u),c={text:"+z",fontSize:5};var p=h(c);p.position.set(0,0,.31),p.rotateZ(-45*Math.PI/180),d.add(p),c={text:"-x",fontSize:5};var m=h(c);m.position.set(-.1,0,.31),m.rotateZ(-180*Math.PI/180),n.add(m),c={text:"-y",fontSize:5};var w=h(c);w.position.set(-.1,0,.31),w.rotateZ(90*Math.PI/180),o.add(w),c={text:"-z",fontSize:5};var f=h(c);f.position.set(0,0,.31),f.rotateZ(135*Math.PI/180),l.add(f),n.addEventListener("cursordown",function(e){$=ne[K].arrow1,r()}),n.addEventListener("cursorup",function(e){$=!1,ee=0}),a.addEventListener("cursordown",function(e){$=ne[K].arrow2,r()}),a.addEventListener("cursorup",function(e){$=!1,ee=0}),s.addEventListener("cursordown",function(e){$=ne[K].arrow3,r()}),s.addEventListener("cursorup",function(e){$=!1,ee=0}),o.addEventListener("cursordown",function(e){$=ne[K].arrow4,r()}),o.addEventListener("cursorup",function(e){$=!1,ee=0}),l.addEventListener("cursordown",function(e){$=ne[K].arrow5,r()}),l.addEventListener("cursorup",function(e){$=!1,ee=0}),d.addEventListener("cursordown",function(e){$=ne[K].arrow6,r()}),d.addEventListener("cursorup",function(e){$=!1,ee=0})})}function r(){if(W)switch(K){case"rotate":W.obj.rotation[$.axis]+=$.distance;break;case"move":W.obj.position[$.axis]+=$.distance;break;case"scale":W.obj.scale[$.axis]+=$.distance}}function d(){Q?(Q=!1,V=!0,f(xe[4],"n-text",{text:"Lock",fontSize:1}),THREE.SceneUtils.detach(J,j.hips,S)):(Q=!0,V=!1,f(xe[4],"n-text",{text:"Unlock",fontSize:1}),THREE.SceneUtils.attach(J,S,j.hips))}function c(){V?(V=!1,f(xe[2],"n-text",{text:"Move",fontSize:1})):(V=!0,f(xe[2],"n-text",{text:"Stay",fontSize:1}))}function g(){function e(e,t){var i=t.key(),n=(t.val().baseRef,t.val().objRef),a=(t.val().extension,t.val().scale),s=t.val().pos,o=t.val().rot,l=t.val().settings.locked,r=t.val().objStatus;m(n,i,s,o,a,r,l),e.child(i).child("pos").on("value",function(e){if(null!=e.val()){var t=e.val();!k(i)&&we[i]&&we[i].obj.position.set(t.x,t.y,t.z)}}),e.child(i).child("rot").on("value",function(e){if(null!=e.val()){var t=e.val();!k(i)&&we[i]&&we[i].obj.quaternion.set(t.x,t.y,t.z,t.w)}}),e.child(i).child("scale").on("value",function(e){if(null!=e.val()){var t=e.val();!k(i)&&we[i]&&we[i].obj.scale.set(O*t.x,O*t.y,O*t.z)}}),e.child(i).child("settings").child("currentlyBeingEdited").on("value",function(e){null!=e.val()&&!k(i)&&we[i]&&(we[i].settings.currentlyBeingEdited=e.val())}),e.child(i).child("settings").child("locked").on("value",function(e){null!=e.val()&&!k(i)&&we[i]&&(we[i].settings.locked=e.val(),1==e.val()?(j.isModerator||H)&&(document.getElementById("lock-object-toggle").innerHTML="Unlock"):(j.isModerator||H)&&(document.getElementById("lock-object-toggle").innerHTML="Lock"))}),e.child(i).on("child_removed",function(e){we[i]&&(S.remove(we[i].obj),B.remove(we[i].option.index),delete we[i])})}function t(e,t){var i=t.key();ye[i]={name:i,pos:{x:0,y:0,z:0},scale:1,settings:{currentlyEditing:!1}},e.child("pos").on("value",function(e,t){var n=e.val();k(i)&&we[i]&&(ye[i].pos=n,document.getElementById("posx").value=n.x,document.getElementById("posy").value=n.y,document.getElementById("posz").value=n.z)}),e.child("scale").on("value",function(e,t){var n=e.val();k(i)&&we[i]&&(ye[i].scale=n,document.getElementById("scalex").value=n.x,document.getElementById("scaley").value=n.y,document.getElementById("scalez").value=n.z)})}Z.once("value",function(e){e.val()?D=e.val().editMode:U.update({editMode:1})}),U.once("value",function(e){e.val()||U.set({isUserCurrentlyEditing:0,selectedObject:"",preventRotate:!1,rotationSnap:360})}),Y.on("child_added",function(i,n){e(Y,i),t(Y,i)}),U.child("editMode").on("value",function(e){D=e.val()}),U.child("rotationSnap").on("value",function(e){e.val()&&(_=e.val())})}function u(e){for(var t in we)we[t]!=e&&we[t].obj.traverse(function(e){e instanceof THREE.Mesh&&(e.userData.altspace={collider:{enabled:!1}})});var i=e.obj;re.setFromMatrixPosition(j.head.matrixWorld),ce.setFromMatrixPosition(i.matrixWorld),pe=re.distanceTo(ce),e.settings.currentlyBeingEdited=!0,W=e,X=!0,N=Y.child(e.name),N.child("settings").update({currentlyBeingEdited:!0}),U.child("isUserCurrentlyEditing").set(!0),U.child("selectedObject").set(e.name),document.getElementById("object").innerHTML="Object Selected: "+e.name,N.child("pos").once("value",function(e){var t=e.val();document.getElementById("posx").value=t.x,document.getElementById("posy").value=t.y,document.getElementById("posz").value=t.z}),document.getElementById("rotx").value=1,document.getElementById("roty").value=1,document.getElementById("rotz").value=1,N.child("scale").once("value",function(e){var t=e.val();document.getElementById("scalex").value=t.x,document.getElementById("scaley").value=t.y,document.getElementById("scalez").value=t.z})}function p(e){e.obj;e.settings.currentlyBeingEdited=!1,X=!1,U.child("isUserCurrentlyEditing").set(!1),N.child("settings").update({currentlyBeingEdited:!1}),se=0,oe=0,le=0,he=0;for(var t in we)we[t].obj.traverse(function(e){e instanceof THREE.Mesh&&!we[t].settings.locked&&(e.userData.altspace={collider:{enabled:!0}})})}function m(e,t,i,n,a,s,o){var l=w("n-object");f(l,"n-object",{res:e}),l.position.set(i.x,i.y,i.z),l.scale.set(O*a.x,O*a.y,O*a.z),l.quaternion.set(n.x,n.y,n.z,n.w),l.userData.altspace={collider:{enabled:!0}},l.traverse(function(e){e instanceof THREE.Mesh&&(e.userData.altspace={collider:{enabled:!0}})});var r={text:t,fontSize:5},d=h(r);d.visible=!1,l.add(d);var c=t.split("-");t.length-1;for(var g={w:0,h:1,l:0},u=0;u<c.length-1;u++){var p=/\d/g;if(p.test(c[u]))switch(c[u][1]){case"r":g.w=parseInt(c[u][0]),g.l=parseInt(c[u][0]);break;case"d":g.w=parseInt(c[u][0]),g.h=parseInt(c[u][0]);break;case"w":g.w=parseInt(c[u][0]);break;case"h":g.h=parseInt(c[u][0]);break;case"l":g.l=parseInt(c[u][0])}}switch(c[0]){case"pipe":var m=g.l;g.l=g.w,g.w=-m;break;default:g.l=-g.l}d.position.set(g.l/2,g.h+1,g.w/2),altspace.addNativeComponent(d,"n-billboard"),v(t,l,o,d)}function h(e){var t=w("n-text");return f(t,"n-text",e),t}function w(e){var t=new THREE.BoxGeometry(.001,.001,.001),i=new THREE.MeshBasicMaterial({color:0});i.visible=!1;var n=new THREE.Mesh(t,i);return S.add(n),altspace.addNativeComponent(n,e),n}function f(e,t,i){var n=be["n-text"];for(var a in i)n[a]=i[a];altspace.updateNativeComponent(e,t,n)}function v(e,t,i,n){we[e]={name:e,obj:t,boundingBox:b(t),settings:{currentlyBeingEdited:!1,locked:i},text:n},t.traverse(function(e){e instanceof THREE.Mesh&&(i?e.userData.altspace={collider:{enabled:!1}}:e.userData.altspace={collider:{enabled:!0}})});var a=Y;if(a.child(e).update({objStatus:"old"}),j.isModerator||H){y(we[e]);var s=B.appendChild(document.createElement("option")),o=document.createAttribute("id");o.value=e,s.setAttributeNode(o),s.innerHTML=e,s.value=e,we[e].option=s}var l=we[e].boundingBox.size();l.x>2e3&&l.x<1e4?(t.scale.set(.01,.01,.01),we[e].scale=.01,a.child(e).child("scale").set({x:.1,y:.1,z:.1}),a.child(e).child("scaleRatio").set(.1)):l.x>1e4?(t.scale.set(.001,.001,.001),we[e].scale=.001,a.child(e).child("scale").set({x:.001,y:.001,z:.001}),a.child(e).child("scaleRatio").set(.001)):a.child(e).child("scaleRatio").once("value",function(t){t.val()?we[e].scale=t.val():we[e].scale=1})}function y(e){var t=e.obj;t.addEventListener("cursorup",function(i){D&&(X?X&&W.obj==t&&p(e):e.settings.currentlyBeingEdited||e.settings.locked||u(e))}),t.addEventListener("cursorenter",function(i){X||e.settings.currentlyBeingEdited||e.settings.locked||1!=D||(e.text&&(e.text.visible=!0),t.traverse(function(e){e instanceof THREE.Mesh&&(e.material.color=fe)}))}),t.addEventListener("cursorleave",function(i){X||e.settings.currentlyBeingEdited||e.settings.locked||1!=D||(e.text&&(e.text.visible=!1),t.traverse(function(e){e instanceof THREE.Mesh&&(e.material.color=ve)}))})}function x(t,i,n){if("x"===i){var a=(n-se)*_*Math.PI/180;we[t].obj.rotateX(a),se=n}else if("y"===i){var s=(n-oe)*_*Math.PI/180;we[t].obj.rotateY(s),oe=n}else if("z"===i){var o=(n-le)*_*Math.PI/180;we[t].obj.rotateZ(o),le=n}e.setRotation(t)}function b(e){var t=(new THREE.Box3).setFromObject(e);return t}function E(e){return"The method - "+e+" - could not be called because PlaygroundEditor is NOT initilized!"}function k(e){if(null!=W){if(!X)return!1;if(W.name==e)return!0}return!1}function z(){U.child("rotationSnap").set(1),U.child("editMode").once("value",function(e){D=e.val(),D?document.getElementById("edit-toggle").innerHTML="ON":document.getElementById("edit-toggle").innerHTML="OFF"}),U.onDisconnect().update({selectedObject:""})}function M(){document.getElementById("posx").onkeydown=function(t){13==t.keyCode&&e.updatePOS()},document.getElementById("posy").onkeydown=function(t){13==t.keyCode&&e.updatePOS()},document.getElementById("posz").onkeydown=function(t){13==t.keyCode&&e.updatePOS()},document.getElementById("scalex").onkeydown=function(t){13==t.keyCode&&e.updateScale()},document.getElementById("scaley").onkeydown=function(t){13==t.keyCode&&e.updateScale()},document.getElementById("scalez").onkeydown=function(t){13==t.keyCode&&e.updateScale()},document.getElementById("rotationSnap").onkeydown=function(t){13==t.keyCode&&e.updateRotSnap()},z()}var T,B,I,R=!1,H=!1,j={},S={},P={},L={},O=0,F={},C={},Y={},Z={},U={},N={},A=!1,D=!0,W={},X=!1,A=!1,G=0,J={},V=!0,_=360,q=!1,Q=!1,K="move",$=!1,ee=0,te="",ie=null,ne={rotate:{arrow1:{axis:"x",distance:-.01},arrow2:{axis:"x",distance:.01},arrow3:{axis:"y",distance:.01},arrow4:{axis:"y",distance:-.01},arrow5:{axis:"z",distance:-.01},arrow6:{axis:"z",distance:.01}},move:{arrow1:{axis:"x",distance:-.01},arrow2:{axis:"x",distance:.01},arrow3:{axis:"y",distance:.01},arrow4:{axis:"y",distance:-.01},arrow5:{axis:"z",distance:-.01},arrow6:{axis:"z",distance:.01}},scale:{arrow1:{axis:"x",distance:-.01},arrow2:{axis:"x",distance:.01},arrow3:{axis:"y",distance:.01},arrow4:{axis:"y",distance:-.01},arrow5:{axis:"z",distance:-.01},arrow6:{axis:"z",distance:.01}}},ae=new THREE.Quaternion,se=0,oe=0,le=0,re=new THREE.Vector3,de=new THREE.Vector3,ce=(new THREE.Vector3,new THREE.Vector3),ge=new THREE.Vector3,ue=new THREE.Vector3,pe=(new THREE.Matrix4,0),me=0,he=0,we={},fe=new THREE.Color("red"),ve=new THREE.Color("0xffffff"),ye={},xe=[],be={"n-text":{text:"",fontSize:10,width:10,height:1,horizontalAlign:"middle",verticalAlign:"middle"}};e.start=function(e,a){if(S=e||null,T=a||!1,null==S)return void console.log("PlaygroundEditor: a scene must be passed via start()! Exiting.");var s=[t.getUser(),t.getSpace(),t.getEnclosure(),t.getDocument()];Promise.all(s).then(function(e){j=e.shift(),P=e.shift(),L=e.shift(),F=e.shift(),I=L.pixelsPerMeter,O=1,L.requestFullspace(),UltimateLoader.imageSize=3.2;for(var t=!1,a=0;a<S.children.length;a++)"TrackingSkeleton"==S.children[a].type&&(i(),t=a);i(t),n()})},e.selectNative=function(t,i){for(var n=i+"/"+t,a=t.split("-"),s={w:.5,h:.5,l:.5},l=0;l<a.length;l++){var r=/\d/g;if(r.test(a[l]))switch(a[l][1]){case"r":s.w=parseInt(a[l][0]),s.l=parseInt(a[l][0]);break;case"d":s.w=parseInt(a[l][0]),s.h=parseInt(a[l][0]);break;case"w":s.w=parseInt(a[l][0]);break;case"h":s.h=parseInt(a[l][0]);break;case"l":s.l=parseInt(a[l][0])}}"architecture"!=i&&"pipes"!=i||(i=a[0]),te={path:n,res:t,type:i,dimensions:s},e.clearSelectBox();var d=!1;switch(i){case"ceiling":s.h=.25,d=!0;break;case"floor":s.h=.25,d=!0;break;case"door":d=!0;break;case"pipe":var c=te.dimensions.l;s.l=te.dimensions.w,s.w=c;break;case"effects":d=!0;break;case"objects":d=!0}if(d){var g=new THREE.BoxGeometry(s.l,s.h,s.w);ie=new THREE.Mesh(g,new THREE.MeshBasicMaterial({color:"#FF0000",transparent:!0,opacity:.3})),ie.scale.set(1,1,1),ie.position.set(0,0,0),ie.visible=!0,ie.userData.useBox=!0,S.add(ie)}else ie=w("n-object"),f(ie,"n-object",{res:n}),ie.userData.useBox=!1,S.add(ie);ie.addEventListener("cursorup",function(e){o()})},e.clearSelectBox=function(){null!==ie&&(S.remove(ie),ie.removeEventListener("cursorup",function(e){o()}))},e.setPosition=function(e,t){if(!R)return void console.log(E("setPosition"));var i=N.child("pos");i.set({x:t.x,y:t.y,z:t.z})},e.setRotation=function(e){if(!R)return void console.log(E("setRotation"));var t=N.child("rot");we[e].obj.getWorldQuaternion(ae),t.set({x:ae.x,y:ae.y,z:ae.z,w:ae.w})},e.update=function(e){if(j.isModerator||H){if(re.setFromMatrixPosition(j.head.matrixWorld),j.head.getWorldDirection(ue),de.setFromMatrixPosition(j.hips.matrixWorld),ge.setFromMatrixPosition(J.matrixWorld),V){var t=ge.distanceTo(de);t>1&&(J.lookAt(de),J.rotateY(-90*Math.PI/180),J.rotateZ(45*Math.PI/180)),t>4&&(de.x=de.x+3*ue.x,de.z=de.z+3*ue.z,J.position.copy(de))}if(X){var i={};ce.setFromMatrixPosition(W.obj.matrixWorld),me=re.distanceTo(ce),0==G?(i.x=re.x+pe*ue.x,i.y=ce.y,i.z=re.z+pe*ue.z):1==G?(i.x=ce.x,i.y=re.y+me*(ue.y-.15),i.z=ce.z):2==G&&(i.x=re.x+pe*ue.x,i.y=re.y+pe*(ue.y-.15),i.z=re.z+pe*ue.z),i.x=Math.round(2*i.x)/2,i.y=Math.round(2*i.y)/2,i.z=Math.round(2*i.z)/2,document.getElementById("posx").value=i.x,document.getElementById("posy").value=i.y,document.getElementById("posz").value=i.z,i.y+W.boundingBox.min.y<0&&(i.y=0),W.obj.position.set(i.x,i.y,i.z),PlaygroundEditor.setPosition(W.name,i)}if($){0==ee&&(ee=e);var n=e-ee;n>=1e3&&r()}if(null!==ie){var i={},a=2,t=5,s=0;switch(te.type){case"ceiling":a=4;break;case"floor":a=4;break;case"effects":t=2;break;case"objects":t=2;break;case"pipe":s=.5}i.x=re.x+t*ue.x,i.y=re.y+t*ue.y,i.z=re.z+t*ue.z,i.x=Math.round(2*i.x)/2,i.y=Math.round(i.y*a)/a,i.z=Math.round(2*i.z)/2,i.y<s&&(i.y=s),ie.position.set(i.x,i.y,i.z),te.pos=i}}},e.getPosition=function(e){if(!R)return void console.log(E("getPosition"));var t;return N.once("value",function(e){t=e.val()}),t},e.getRotation=function(e){if(!R)return void console.log(E("getRotation"));var t;return N.once("value",function(e){t=e.val()}),t},e.isUserCurrentlyEditing=function(){return R?X:void console.log(E("isUserCurrentlyEditing"))},e.currentObjectBeingEdited=function(){return R?W:void console.log(E("isUserCurrentlyEditing"))},e.toggleEdit=function(){D?(D=!1,U.update({editMode:0}),document.getElementById("edit-toggle").innerHTML="OFF"):(D=!0,U.update({editMode:1}),document.getElementById("edit-toggle").innerHTML="ON")},e.toggleRotate=function(){A?(A=!1,U.update({preventRotate:0}),document.getElementById("rotate-toggle").innerHTML="FALSE"):(A=!0,U.update({preventRotate:1}),document.getElementById("rotate-toggle").innerHTML="TRUE")},e.updateRotSnap=function(){var e=parseInt(document.getElementById("rotationSnap").value);e>0&&e<=360&&(U.child("rotationSnap").set(e),document.getElementById("rotx").max=360/e,document.getElementById("roty").max=360/e,document.getElementById("rotz").max=360/e)},e.updatePOS=function(){var e={};if(""!=W.name&&null!=W){e.x=parseFloat(document.getElementById("posx").value),e.y=parseFloat(document.getElementById("posy").value),e.z=parseFloat(document.getElementById("posz").value);var t=N.child("pos");t.set({x:e.x,y:e.y,z:e.z})}},e.updateROT=function(e,t,i){""!=W.name&&null!=W&&x(W.name,e,parseFloat(t))},e.updateScaleXYZ=function(e){var t={};if(""!=W.name&&null!=W){t.x=parseFloat(e),t.y=parseFloat(e),t.z=parseFloat(e);var i=N.child("scale");i.set({x:t.x,y:t.x,z:t.z}),W.obj.scale.set(O*t.x,O*t.y,O*t.z)}},e.updateScale=function(){var e={};if(""!=W.name&&null!=W&&(e.x=parseFloat(document.getElementById("scalex").value),e.y=parseFloat(document.getElementById("scaley").value),e.z=parseFloat(document.getElementById("scalez").value),e.x>0&&e.y>0&&e.z>0)){var t=N.child("scale");t.set({x:e.x,y:e.y,z:e.z}),W.obj.scale.set(O*e.x,O*e.y,O*e.z)}},e.updateSelected=function(e){X&&p(W),W=we[e],N=Y.child(we[e].name),document.getElementById("object").innerHTML="Object Selected: "+e,W.settings.locked?(document.getElementById("lock-object-toggle").innerHTML="Unlock",W.obj.traverse(function(e){e instanceof THREE.Mesh&&(e.userData.altspace={collider:{enabled:!1}})})):(document.getElementById("lock-object-toggle").innerHTML="Lock",W.obj.traverse(function(e){e instanceof THREE.Mesh&&(e.userData.altspace={collider:{enabled:!0}})}))},e.toggleLock=function(){W.settings.locked?(W.settings.locked=!1,N.child("settings").update({locked:!1}),document.getElementById("lock-object-toggle").innerHTML="Lock",W.obj.traverse(function(e){e instanceof THREE.Mesh&&(e.userData.altspace.collider.enabled=!0)})):(W.settings.locked=!0,N.child("settings").update({locked:!0}),document.getElementById("lock-object-toggle").innerHTML="Unlock",W.obj.traverse(function(e){e instanceof THREE.Mesh&&(e.userData.altspace.collider.enabled=!1)}))},window.AFRAME&&AFRAME.registerComponent("playground-editor",{schema:{},init:function(){e.start(this.el.object3D)},tick:function(t){R&&e.update(t)}})}(PlaygroundEditor,altspace),window.onload=function(){var e="<div id=\"masterWrapper\"><div id=\"tabWrapper\"><ul class=\"tab\"><li><button type=\"button\" class=\"tablinks\" onclick=\"openTab(event, 'viewer')\">Viewer</button></li><li><button type=\"button\" class=\"tablinks active\" onclick=\"openTab(event, 'create')\">Create</button></li><li><button type=\"button\" class=\"tablinks\" onclick=\"openTab(event, 'settings')\">App Settings</button></li><li><button type=\"button\" class=\"tablinks\" onclick=\"openTab(event, 'help')\">Help</button></li></ul><div id=\"object\"></div></div><div id=\"contentWrapper\"><div id=\"viewer\" class=\"tabcontent\"> <select onchange=\"PlaygroundEditor.updateSelected(this.value); return false;\" id=\"viewer-option\"></select><div id=\"viewer-settings-lock\">Lock Object: <button type=\"button\" class=\"button\" id=\"lock-object-toggle\" onclick=\"PlaygroundEditor.toggleLock()\">Lock</button></div></div><div id=\"create\" class=\"tabcontent\"><div class=\"clear-selected\">Clear Select Box: <button type=\"button\" class=\"button\" id=\"clear=select-box\" onclick=\"PlaygroundEditor.clearSelectBox()\">Clear</button></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Architecture</div><ul class=\"image-list\" type=\"architecture\"><li id='ceiling-2w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-2w-2l.png'/><li id='ceiling-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-4w-4l.png'/><li id='ceiling-skylight-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-4w-4l.png'/><li id='ceiling-skylight-corner-2w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-corner-2w-2l.png'/><li id='ceiling-skylight-edge-2w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-edge-2w.png'/><li id='ceiling-skylight-edge-4w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-edge-4w.png'/><li id='ceiling-skylight-filler-4w-4l-2'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-filler-4w-4l-2.png'/><li id='ceiling-skylight-filler-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-skylight-filler-4w-4l.png'/><li id='ceiling-slice-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-concave-2r.png'/><li id='ceiling-slice-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-concave-4r.png'/><li id='ceiling-slice-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-convex-2r.png'/><li id='ceiling-slice-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ceiling-slice-convex-4r.png'/><li id='door-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/door-4w-4h.png'/><li id='floor-2w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-2w-2l.png'/><li id='floor-2w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-2w-4l.png'/><li id='floor-4w-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-4w-2l.png'/><li id='floor-4w-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-4w-4l.png'/><li id='floor-slice-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-concave-2r.png'/><li id='floor-slice-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-concave-4r.png'/><li id='floor-slice-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-convex-2r.png'/><li id='floor-slice-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/floor-slice-convex-4r.png'/><li id='railing-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/railing-2l.png'/><li id='railing-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/railing-4l.png'/><li id='railing-curve-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/railing-curve-concave-2r.png'/><li id='wall-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-2w-4h.png'/><li id='wall-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-4w-4h.png'/><li id='wall-base-2w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-2w.png'/><li id='wall-base-4w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-4w.png'/><li id='wall-base-curve-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-concave-2r.png'/><li id='wall-base-curve-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-concave-4r.png'/><li id='wall-base-curve-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-convex-2r.png'/><li id='wall-base-curve-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-base-curve-convex-4r.png'/><li id='wall-bulkhead-2w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-2w.png'/><li id='wall-bulkhead-4w'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-4w.png'/><li id='wall-bulkhead-curve-concave-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-concave-2r.png'/><li id='wall-bulkhead-curve-concave-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-concave-4r.png'/><li id='wall-bulkhead-curve-convex-2r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-convex-2r.png'/><li id='wall-bulkhead-curve-convex-4r'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-bulkhead-curve-convex-4r.png'/><li id='wall-curve-concave-2r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-concave-2r-4h.png'/><li id='wall-curve-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-concave-4r-4h.png'/><li id='wall-curve-convex-2r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-convex-2r-4h.png'/><li id='wall-curve-convex-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-convex-4r-4h.png'/><li id='wall-curve-window-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-concave-4r-4h.png'/><li id='wall-curve-window-concave-filler-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-concave-filler-4r-4h.png'/><li id='wall-curve-window-gap-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-gap-concave-4r-4h.png'/><li id='wall-curve-window-gap-end-l-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-gap-end-l-concave-4r-4h.png'/><li id='wall-curve-window-gap-end-r-concave-4r-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-curve-window-gap-end-r-concave-4r-4h.png'/><li id='wall-filler-corner-inner-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-filler-corner-inner-4h.png'/><li id='wall-filler-corner-outer-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-filler-corner-outer-4h.png'/><li id='wall-window-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-4w-4h.png'/><li id='wall-window-filler-2'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-filler-2.png'/><li id='wall-window-gap-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-2w-4h.png'/><li id='wall-window-gap-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-4w-4h.png'/><li id='wall-window-gap-end-l-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-l-2w-4h.png'/><li id='wall-window-gap-end-l-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-l-4w-4h.png'/><li id='wall-window-gap-end-r-2w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-r-2w-4h.png'/><li id='wall-window-gap-end-r-4w-4h'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/wall-window-gap-end-r-4w-4h.png'/></ul></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Pipes</div><ul class=\"image-list\" type=\"pipes\"><li id='pipe-full-cap-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-cap-1d.png'/><li id='pipe-full-cross-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-cross-1d.png'/><li id='pipe-full-elbow-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-elbow-1d.png'/><li id='pipe-full-fork-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-fork-1d.png'/><li id='pipe-full-straight-1d-1l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-straight-1d-1l.png'/><li id='pipe-full-straight-1d-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-straight-1d-2l.png'/><li id='pipe-full-straight-1d-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-straight-1d-4l.png'/><li id='pipe-full-tee-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-full-tee-1d.png'/><li id='pipe-half-cap-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-cap-1d.png'/><li id='pipe-half-cross-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-cross-1d.png'/><li id='pipe-half-elbow-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-elbow-1d.png'/><li id='pipe-half-fork-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-fork-1d.png'/><li id='pipe-half-straight-1d-1l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-straight-1d-1l.png'/><li id='pipe-half-straight-1d-2l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-straight-1d-2l.png'/><li id='pipe-half-straight-1d-4l'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-straight-1d-4l.png'/><li id='pipe-half-tee-1d'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/pipe-half-tee-1d.png'/></ul></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Objects</div><ul class=\"image-list\" type=\"objects\"><li id='basketball-hoop'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/basketball-hoop.png'/><li id='coin'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/coin.png'/><li id='cup'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/cup.png'/><li id='gem'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/gem.png'/><li id='hoop'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/hoop.png'/><li id='ring'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/ring.png'/><li id='target-archery'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/target-archery.png'/></ul></div><div class=\"image-list-wrapper\"><div class=\"image-list-title\">Effects</div><ul class=\"image-list\" type=\"effects\"><li id='fire'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/fire.png'/><li id='fireworks'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/fireworks.png'/><li id='smoke'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/smoke.png'/><li id='sparkler'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/sparkler.png'/><li id='steam'><img src='http://d12gawsdmsi8g4.cloudfront.net/assets/images/steam.png'/></ul></div></div><div id=\"settings\" class=\"tabcontent\"><div id=\"general-settings\"> <div id=\"settings-edit\">Edit Mode: <button type=\"button\" class=\"button\" id=\"edit-toggle\" onclick=\"PlaygroundEditor.toggleEdit()\">Toggle</button></div><div id=\"settings-rotationSnap\">Rotation Snap (degrees): <input type=\"text\" id=\"rotationSnap\" name=\"rotationSnap\" value=\"1\"></div></div></div><div id=\"help\" class=\"tabcontent\"><div class=\"help-wrapper\"><div class=\"help-title\">PLAYGROUND EDITOR</div><p> <span>How to move an object: </span><br></option>It's easy! Click on the object you want to move. When you move your head, the object will follow. When you're done moving the object, click it again.</p><p> <span>Creating an Object: </span><br></option>In the <i>Create</i> tab, select the model you wish to spawn. The object will appear in front of you. To place it, click the object.</p><p> <span>Transform: </span><br></option>Click the buttons in the grat part of the the panel. You can manually enter values into the text fields - hitting enter will submit your changes. Moving the sliders will change the value automatically. Just slide it until you like your changes!</p><p> <span>Settings: </span><br></option>When <i>Edit Mode</i> is set to <b>FALSE</b>, you will not be able to move objects. This is good for when you just want to explore. When <i>Rotate On Placement</i> is set to <b>TRUE</b>, the object you are moving will snap to it's default rotation when you stop moving it. You can also change the rotation snap to a specified degree. For instance, if you type in 90, the object will rotate 90 degrees. All settings are LOCAL TO YOU ONLY.</p></div></div><div id=\"positionTab\" class=\"tabcontent transformTabs\"><div id=\"pos\">Position <br></option><form onsubmit=\"PlaygroundEditor.updatePOS(); return false;\">X: <input type=\"text\" id=\"posx\" name=\"posX\" value=\"\"><br></option>Y: <input type=\"text\" id=\"posy\"name=\"posY\" value=\"\"><br></option>Z: <input type=\"text\" id=\"posz\" name=\"posZ\" value=\"\"><br></option></form></div></div><div id=\"rotationTab\" class=\"tabcontent transformTabs\"><div id=\"rot\">Rotation <br></option>X: <input type=\"range\" id=\"rotx\" name=\"rotX\" min=\"1\" max=\"360\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateROT('x', this.value, this.max)\"><br>Y: <input type=\"range\" id=\"roty\" name=\"rotY\" min=\"1\" max=\"360\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateROT('y', this.value, this.max)\"><br>Z: <input type=\"range\" id=\"rotz\" name=\"rotZ\" min=\"1\" max=\"360\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateROT('z', this.value, this.max)\"><br></div></div><div id=\"scaleTab\" class=\"tabcontent transformTabs\"><div id=\"scale\">Scale <br></option>XYZ: <input type=\"range\" id=\"scaleXYZ\" name=\"scaleXYZ\" min=\"1\" max=\"100\" step=\"1\" value=\"1\" oninput=\"PlaygroundEditor.updateScaleXYZ(this.value)\"><br><form onsubmit=\"PlaygroundEditor.updateScale(); return false;\">X: <input type=\"text\" id=\"scalex\" name=\"scaleX\" value=\"\"><br></option>Y: <input type=\"text\" id=\"scaley\" name=\"scaleY\" value=\"\"><br></option>Z: <input type=\"text\" id=\"scalez\" name=\"scaleZ\" value=\"\"><br></option></form></div></div></div></div>";
document.body.insertAdjacentHTML("afterbegin",e);var t='<style type="text/css">body,html,video{margin:0;padding:0;width:100%;height:100%;overflow:hidden}body{display:none;background-color:#fff}.clear-selected{font-size:32px;margin-left:30px}.image-list-wrapper{width:22%s;float:left;margin-left:30px;margin-top:25px}.image-list-title{font-size:32px;text-align:center}.image-list img{width:200px}.image-list{margin:0;padding:0;white-space:nowrap;width:100%;height:350px;overflow-y:scroll;overflow-x:hidden;background-color:#ddd}#general-settings,#my-objects-list,#new-object,#object-settings{min-width:300px;padding:10px;background:#fff}.image-list ul li{display:inline}#contentWrapper{overflow: hidden;margin-top:20px;width:100%}#viewer{font-size:28px;padding:10px}#new-object input,#new-object select,#viewer select{font-size:24px;min-height:20px}.viewer-object{margin-top:30px}#alert{color:red;font-style:italic}#new-object{min-height:20px;margin-bottom:50px}#general-settings{min-height:20px;margin-bottom:50px;font-size:28px}#my-objects-list{font-size:28px;min-height:20px;margin-bottom:50px}.button{height:40px;font-size:28px}#object-settings{min-height:20px}#object{float:right;font-size:28px}.transformTabs{margin:50px auto auto;text-align:center}#pos input,#rot input,#scale input{margin-top:20px;min-height:50px;min-width:500px;font-size:32px}#pos,#rot,#scale{font-size:32px}ul.tab{list-style-type:none;margin:0;padding:0;overflow:hidden;background-color:#f1f1f1}ul.tab li{float:left}ul.tab li button{display:inline-block;color:#000;text-align:center;padding:14px 16px;text-decoration:none;transition:.3s;font-size:17px}ul.tab li a:hover{background-color:#ddd}.active,ul.tab li a:focus{background-color:#ccc}.tabcontent{display:none;width:100%}</style>';document.head.insertAdjacentHTML("beforeEnd",t),document.getElementById("create").style.display="block";for(var i=document.getElementsByClassName("image-list"),n=0;n<i.length;n++)i[n].addEventListener("click",function(e){var t=e.target.parentNode;PlaygroundEditor.selectNative(t.id,t.parentNode.getAttribute("type"))})};